// Импорт общих стилей
@import 'variables';
a
    text-decoration: none
body
    margin: 0
=flex-center
    display: flex
    align-items: center
    justify-content: center

=flex-between
    display: flex
    align-items: center
    justify-content: space-between

=transition($property: all, $duration: 0.3s, $easing: ease)
    transition: $property $duration $easing

=text-style($size: inherit, $color: $text-color, $font: $font-secondary)
    font-size: $size
    color: $color
    font-family: $font
    text-decoration: none
// Переменные
$sidebar-width: 201px
$sidebar-expanded-width: 400px
$main-bg-color: darken($bg-color, 3%)

// Основной лейаут
.layout
    display: flex
    min-height: 100vh
    background-color: $main-bg-color

// Sidebar
.aside
    position: relative
    display: flex
    flex-direction: column
    align-items: center
    justify-content: start
    background-color: $bg-color
    width: $sidebar-width
    border-right: solid $accent-color 5px
    gap: 106px
    transition: 1s ease
    flex-shrink: 0
    font-family: 'Slovic'

    &:hover
        width: $sidebar-expanded-width
        justify-content: start

        .hidden
            display: block !important
            opacity: 1
            transition: 1s ease

    &__back
        width: 148px
        padding-top: 20px
        cursor: pointer
        transition: 1s ease

        &:hover
            transform: scale(1.2)

    &__list
        display: flex
        flex-direction: column
        gap: 67px
        transition: 1s ease


    &__items
        display: flex
        align-items: center
        justify-content: center
        height: 127px
        cursor: pointer
        transition: 1s ease
        gap: 20px
        border-radius: 12px

        &:hover
            transform: scale(1.2)

        & > p
            color: $accent-color
            font-family: 'Slovic'

    &__active
        background-color: $text-color

// Основной контент
.main-content
    flex: 1
    padding: 2rem
    overflow-y: auto

// Панель управления
.controls-panel
    display: flex
    justify-content: space-between
    align-items: center
    margin-bottom: 2rem
    gap: 2rem
    flex-wrap: wrap

.search-container
    display: flex
    align-items: center
    background: rgba(239, 221, 191, 0.1)
    border: 2px solid $accent-color
    border-radius: 25px
    padding: 0.5rem 1rem
    flex: 1
    min-width: 300px
    max-width: 500px

.search-input
    background: none
    border: none
    color: $text-color
    font-size: 1rem
    flex: 1
    padding: 0.5rem
    outline: none

    &::placeholder
        color: rgba(239, 221, 191, 0.6)

.search-btn
    background: none
    border: none
    cursor: pointer
    padding: 0.5rem
    +transition(transform)

    &:hover
        transform: scale(1.1)

    img
        width: 20px
        height: 20px

.filters-container
    display: flex
    gap: 1rem
    flex-wrap: wrap

.filter-select
    background: rgba(239, 221, 191, 0.1)
    border: 2px solid $accent-color
    border-radius: 8px
    color: $text-color
    padding: 0.5rem 1rem
    font-size: 1rem
    cursor: pointer
    outline: none
    min-width: 150px

    option
        background: $bg-color
        color: $text-color

// Сетка контента
.content-grid
    display: grid
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr))
    gap: 3rem
    margin-bottom: 2rem
// Карточки
.entity-card
    background: rgba(18, 36, 54, 0.8)
    border: 2px solid $accent-color
    border-radius: 15px
    overflow: hidden
    cursor: pointer
    transition: all 0.3s ease
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2)
    width: 23.833vw

    &:hover
        transform: translateY(-5px)
        box-shadow: 0 8px 25px rgba(195, 149, 90, 0.3)
        border-color: $text-color

    &__image
        width: 23.833vw
        height: 700px
        object-fit: cover

    &__content
        padding: 1.5rem

    &__title
        +text-style(1.3rem, $accent-color, $font-primary)
        margin-bottom: 0.5rem
        text-align: center

    &__meta
        +text-style(0.9rem, rgba(239, 221, 191, 0.8))
        text-align: center

        &.level
            color: lighten($accent-color, 10%)

        &.rarity
            &.common
                color: #ffffff
            &.uncommon
                color: #1eff00
            &.rare
                color: #0070dd
            &.epic
                color: #a335ee

        &.cr
            color: #ff8000

// Сообщения
.loading-message,
.empty-message
    +text-style(1.2rem, $accent-color, $font-primary)
    text-align: center
    padding: 3rem

.empty-message
    color: rgba(239, 221, 191, 0.6)

// Модальное окно
.modal-overlay
    position: fixed
    top: 0
    left: 0
    width: 100%
    height: 100%
    background: rgba(0, 0, 0, 0.8)
    display: flex
    align-items: center
    justify-content: center
    z-index: 1000
    padding: 2rem

    &.hidden
        display: none

.modal-content
    background: $bg-color
    border: 3px solid $accent-color
    border-radius: 20px
    max-width: 800px
    width: 100%
    max-height: 90vh
    overflow-y: auto
    position: relative

.modal-close
    position: absolute
    top: 1rem
    right: 1rem
    background: none
    border: none
    color: $text-color
    font-size: 2rem
    cursor: pointer
    z-index: 10
    +transition(color)

    &:hover
        color: $accent-color

.modal-header
    display: flex
    flex-direction: column
    place-items: center
    position: relative
    padding: 2rem 2rem 1rem

.modal-title
    +text-style(2rem, $accent-color, $font-primary)
    margin-bottom: 0.5rem
    text-align: center

.modal-subtitle
    +text-style(1.1rem, rgba(239, 221, 191, 0.8))
    text-align: center
    margin-bottom: 1rem

.modal-image
    width: 20%
    max-height: 300px
    object-fit: cover
    border-radius: 10px
    margin-bottom: 1rem

.modal-body
    padding: 0 2rem 2rem

.modal-section
    margin-bottom: 1.5rem

    &__title
        +text-style(1.3rem, $accent-color, $font-primary)
        margin-bottom: 0.5rem
        border-bottom: 2px solid $accent-color
        padding-bottom: 0.25rem

    &__content
        +text-style(1rem, $text-color)

.stats-grid
    display: grid
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr))
    gap: 1rem
    margin: 1rem 0

.stat-item
    background: rgba(195, 149, 90, 0.1)
    border: 1px solid $accent-color
    border-radius: 8px
    padding: 1rem
    text-align: center

    &__label
        +text-style(0.8rem, rgba(239, 221, 191, 0.7))
        margin-bottom: 0.25rem

    &__value
        +text-style(1.1rem, $accent-color, $font-primary)

.tags-container
    display: flex
    flex-wrap: wrap
    gap: 0.5rem
    margin: 1rem 0

.tag
    background: $accent-color
    color: $bg-color
    padding: 0.25rem 0.75rem
    border-radius: 15px
    +text-style(0.8rem, $bg-color)
    font-weight: bold

// Адаптивность
@media (max-width: 1024px)
    .layout
        flex-direction: column

    .aside
        width: 100%
        height: auto
        gap: 2rem
        padding: 1rem

        &:hover
            width: 100%

        &__list
            flex-direction: row
            gap: 2rem

        &__items
            height: auto
            padding: 1rem

    .main-content
        padding: 1rem

    .controls-panel
        flex-direction: column
        align-items: stretch

    .search-container
        max-width: none

    .filters-container
        justify-content: center

@media (max-width: 768px)
    .content-grid
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr))
        gap: 1rem

    .modal-content
        margin: 1rem
        max-height: calc(100vh - 2rem)

    .modal-header
        padding: 1rem

    .modal-body
        padding: 0 1rem 1rem

    .stats-grid
        grid-template-columns: 1fr 1fr

@media (max-width: 480px)
    .content-grid
        grid-template-columns: 1fr

    .filters-container
        flex-direction: column

    .filter-select
        min-width: auto

    .stats-grid
        grid-template-columns: 1fr

.hidden
    display: none !important